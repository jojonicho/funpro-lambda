{
  "version": 3,
  "sources": ["../../../../../../Users/jonathannicholas/Desktop/sem5/pemfung/funpro-lambda/functions/test.ts"],
  "sourceRoot": "/var/folders/l_/kqvck5_n7h70tqhbdtl442pc0000gn/T/tmp-8450-x3UgZA0AZBGe",
  "sourcesContent": ["const MINUTES_IN_A_DAY = 60 * 24;\n// 11.40 -> 60*11 + 40\n// 19.00 -> 60*19\nconst REQ_BODY_EXAMPLE = {\n  \"1\": [\n    // per day\n    {\n      time_in_minutes: 60 * 19,\n      course: \"Jarkom\",\n      type: \"Sync\",\n    },\n    {\n      time_in_minutes: 60 * 19 + 55,\n      course: \"Jarkom 2\",\n      type: \"Sync\",\n    },\n  ],\n};\n\nconst findScheduleWithinOneHour = (schedules) => {\n  const now = new Date();\n  const minutes = now.getHours() * 60 + now.getMinutes();\n  const day = now.getDay();\n  const RANGE = 60; // 1 hour range\n\n  const withinOneHourSchedules = schedules[day]\n    .filter((schedule) => Math.abs(schedule.time_in_minutes - minutes) <= RANGE)\n    .map((schedule) => {\n      return {\n        ...schedule,\n        starts_in_minutes: schedule.time_in_minutes - minutes,\n      };\n    });\n\n  return withinOneHourSchedules;\n};\n\nconst handler = async (event: any = {}, ctx): Promise<any> => {\n  // if not post, return exception\n  if (event.httpMethod !== \"POST\") {\n    return { statusCode: 405, body: \"Method Not Allowed\" };\n  }\n  // get post body\n  const schedules = JSON.parse(event.body);\n\n  return {\n    statusCode: 200,\n    body: JSON.stringify({\n      message: findScheduleWithinOneHour(schedules),\n    }),\n  };\n};\nexports.handler = handler;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAAA,IAAM,mBAAmB,KAAK;AAG9B,IAAM,mBAAmB;AAAA,EACvB,KAAK;AAAA,IAEH;AAAA,MACE,iBAAiB,KAAK;AAAA,MACtB,QAAQ;AAAA,MACR,MAAM;AAAA;AAAA,IAER;AAAA,MACE,iBAAiB,KAAK,KAAK;AAAA,MAC3B,QAAQ;AAAA,MACR,MAAM;AAAA;AAAA;AAAA;AAKZ,IAAM,4BAA4B,CAAC,cAAc;AAC/C,QAAM,MAAM,IAAI;AAChB,QAAM,UAAU,IAAI,aAAa,KAAK,IAAI;AAC1C,QAAM,MAAM,IAAI;AAChB,QAAM,QAAQ;AAEd,QAAM,yBAAyB,UAAU,KACtC,OAAO,CAAC,aAAa,KAAK,IAAI,SAAS,kBAAkB,YAAY,OACrE,IAAI,CAAC,aAAa;AACjB,WAAO,iCACF,WADE;AAAA,MAEL,mBAAmB,SAAS,kBAAkB;AAAA;AAAA;AAIpD,SAAO;AAAA;AAGT,IAAM,UAAU,OAAO,QAAa,IAAI,QAAsB;AAE5D,MAAI,MAAM,eAAe,QAAQ;AAC/B,WAAO,EAAE,YAAY,KAAK,MAAM;AAAA;AAGlC,QAAM,YAAY,KAAK,MAAM,MAAM;AAEnC,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,MAAM,KAAK,UAAU;AAAA,MACnB,SAAS,0BAA0B;AAAA;AAAA;AAAA;AAIzC,QAAQ,UAAU;",
  "names": []
}
